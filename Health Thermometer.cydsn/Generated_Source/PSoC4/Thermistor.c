/*******************************************************************************
* File Name: Thermistor.c
* Version 1.20
*
* Description:
*  This file provides the source code to the API for the ThermistorCalc
*  Component.
*
* Note:
*  None.
*
********************************************************************************
* Copyright 2013, Cypress Semiconductor Corporation.  All rights reserved.
* You may use this file only in accordance with the license, terms, conditions,
* disclaimers, and limitations in the end user license agreement accompanying
* the software package with which this file was provided.
*******************************************************************************/

#include "Thermistor.h"


/*******************************************************************************
* Function Name: Thermistor_GetResistance
********************************************************************************
*
* Summary:
*  The digital values of the voltages across the reference resistor and the
*  thermistor are passed to this function as parameters. The function returns
*  the resistance, based on the voltage values.
*
* Parameters:
*  vReference: the voltage across the reference resistor;
*  vThermistor: the voltage across the thermistor.
*  The ratio of these two voltages is used by this function. Therefore, the
*  units for both parameters must be the same.
*
* Return:
*  The return value is the resistance across the thermistor. The value returned
*  is the resistance in Ohms.
*
*******************************************************************************/
uint32 Thermistor_GetResistance(int16 vReference, int16 vThermistor)
                                      
{
    int32 resT;
    int16 temp;

    /* Calculate thermistor resistance from the voltages */
  /*  resT = Thermistor_REF_RESISTOR * ((int32)vThermistor);
    if (vReference < 0)
    {
        temp = -vReference;
        temp = (int16)((uint16)((uint16)temp >> 1u));
        temp = -temp;
    }
    else
    {
        temp = (int16)((uint16)((uint16)vReference >> 1u));
    }
    resT += temp;
    resT /= vReference;
*/
    /* The ordering of Reference resistor value is specifically designed to keep the result from overflowing */
      resT = (Thermistor_REF_RESISTOR*Thermistor_REF_RESISTOR+Thermistor_REF_RESISTOR*(Thermistor_REF_RESISTOR+Thermistor_REF_RESISTOR)*(vThermistor/10)/vReference)/(Thermistor_REF_RESISTOR-(Thermistor_REF_RESISTOR+Thermistor_REF_RESISTOR)*(vThermistor/10)/vReference);

    return ((uint32)((uint32)resT << Thermistor_REF_RES_SHIFT));
}


/*******************************************************************************
* Function Name: Thermistor_GetTemperature
********************************************************************************
*
* Summary:
*  The value of the thermistor resistance is passed to this function as a
*  parameter. The function returns the temperature, based on the resistance
*  value. The method used to calculate the temperature is dependent on whether
*  Equation or LUT was selected in the Customizer.
*
* Parameters:
*  resT: the resistance across the thermistor in Ohms.
*
* Return:
*  The return value is the temperature in 1/100ths of degrees C. For example,
*  the return value is 2345, when the actual temperature is 23.45 degrees C.
*
*******************************************************************************/
int16 Thermistor_GetTemperature(uint32 resT) 
{
    int16 tempTR;
    static const uint32 CYCODE Thermistor_LUT[] = { 12492u, 12486u, 12481u, 12475u, 12469u, 12464u, 12458u, 12453u, 12447u,
 12441u, 12436u, 12430u, 12424u, 12419u, 12413u, 12408u, 12402u, 12396u, 12391u, 12385u, 12380u, 12374u, 12369u, 12363u,
 12357u, 12352u, 12346u, 12341u, 12335u, 12330u, 12324u, 12318u, 12313u, 12307u, 12302u, 12296u, 12291u, 12285u, 12280u,
 12274u, 12269u, 12263u, 12257u, 12252u, 12246u, 12241u, 12235u, 12230u, 12224u, 12219u, 12213u, 12208u, 12202u, 12197u,
 12191u, 12186u, 12180u, 12175u, 12169u, 12164u, 12159u, 12153u, 12148u, 12142u, 12137u, 12131u, 12126u, 12120u, 12115u,
 12109u, 12104u, 12098u, 12093u, 12088u, 12082u, 12077u, 12071u, 12066u, 12060u, 12055u, 12050u, 12044u, 12039u, 12033u,
 12028u, 12023u, 12017u, 12012u, 12006u, 12001u, 11996u, 11990u, 11985u, 11979u, 11974u, 11969u, 11963u, 11958u, 11953u,
 11947u, 11942u, 11936u, 11931u, 11926u, 11920u, 11915u, 11910u, 11904u, 11899u, 11894u, 11888u, 11883u, 11878u, 11872u,
 11867u, 11862u, 11856u, 11851u, 11846u, 11840u, 11835u, 11830u, 11824u, 11819u, 11814u, 11809u, 11803u, 11798u, 11793u,
 11787u, 11782u, 11777u, 11772u, 11766u, 11761u, 11756u, 11750u, 11745u, 11740u, 11735u, 11729u, 11724u, 11719u, 11714u,
 11708u, 11703u, 11698u, 11693u, 11687u, 11682u, 11677u, 11672u, 11667u, 11661u, 11656u, 11651u, 11646u, 11640u, 11635u,
 11630u, 11625u, 11620u, 11614u, 11609u, 11604u, 11599u, 11594u, 11588u, 11583u, 11578u, 11573u, 11568u, 11563u, 11557u,
 11552u, 11547u, 11542u, 11537u, 11532u, 11526u, 11521u, 11516u, 11511u, 11506u, 11501u, 11496u, 11490u, 11485u, 11480u,
 11475u, 11470u, 11465u, 11460u, 11455u, 11449u, 11444u, 11439u, 11434u, 11429u, 11424u, 11419u, 11414u, 11409u, 11404u,
 11398u, 11393u, 11388u, 11383u, 11378u, 11373u, 11368u, 11363u, 11358u, 11353u, 11348u, 11343u, 11338u, 11333u, 11327u,
 11322u, 11317u, 11312u, 11307u, 11302u, 11297u, 11292u, 11287u, 11282u, 11277u, 11272u, 11267u, 11262u, 11257u, 11252u,
 11247u, 11242u, 11237u, 11232u, 11227u, 11222u, 11217u, 11212u, 11207u, 11202u, 11197u, 11192u, 11187u, 11182u, 11177u,
 11172u, 11167u, 11162u, 11157u, 11152u, 11147u, 11142u, 11137u, 11132u, 11127u, 11123u, 11118u, 11113u, 11108u, 11103u,
 11098u, 11093u, 11088u, 11083u, 11078u, 11073u, 11068u, 11063u, 11058u, 11053u, 11049u, 11044u, 11039u, 11034u, 11029u,
 11024u, 11019u, 11014u, 11009u, 11004u, 11000u, 10995u, 10990u, 10985u, 10980u, 10975u, 10970u, 10965u, 10961u, 10956u,
 10951u, 10946u, 10941u, 10936u, 10931u, 10927u, 10922u, 10917u, 10912u, 10907u, 10902u, 10898u, 10893u, 10888u, 10883u,
 10878u, 10873u, 10869u, 10864u, 10859u, 10854u, 10849u, 10844u, 10840u, 10835u, 10830u, 10825u, 10820u, 10816u, 10811u,
 10806u, 10801u, 10797u, 10792u, 10787u, 10782u, 10777u, 10773u, 10768u, 10763u, 10758u, 10754u, 10749u, 10744u, 10739u,
 10735u, 10730u, 10725u, 10720u, 10716u, 10711u, 10706u, 10701u, 10697u, 10692u, 10687u, 10682u, 10678u, 10673u, 10668u,
 10663u, 10659u, 10654u, 10649u, 10645u, 10640u, 10635u, 10631u, 10626u, 10621u, 10616u, 10612u, 10607u, 10602u, 10598u,
 10593u, 10588u, 10584u, 10579u, 10574u, 10570u, 10565u, 10560u, 10556u, 10551u, 10546u, 10542u, 10537u, 10532u, 10528u,
 10523u, 10518u, 10514u, 10509u, 10504u, 10500u, 10495u, 10491u, 10486u, 10481u, 10477u, 10472u, 10467u, 10463u, 10458u,
 10454u, 10449u, 10444u, 10440u, 10435u, 10431u, 10426u, 10421u, 10417u, 10412u, 10408u, 10403u, 10398u, 10394u, 10389u,
 10385u, 10380u, 10376u, 10371u, 10366u, 10362u, 10357u, 10353u, 10348u, 10344u, 10339u, 10334u, 10330u, 10325u, 10321u,
 10316u, 10312u, 10307u, 10303u, 10298u, 10294u, 10289u, 10285u, 10280u, 10275u, 10271u, 10266u, 10262u, 10257u, 10253u,
 10248u, 10244u, 10239u, 10235u, 10230u, 10226u, 10221u, 10217u, 10212u, 10208u, 10203u, 10199u, 10194u, 10190u, 10185u,
 10181u, 10176u, 10172u, 10168u, 10163u, 10159u, 10154u, 10150u, 10145u, 10141u, 10136u, 10132u, 10127u, 10123u, 10119u,
 10114u, 10110u, 10105u, 10101u, 10096u, 10092u, 10087u, 10083u, 10079u, 10074u, 10070u, 10065u, 10061u, 10057u, 10052u,
 10048u, 10043u, 10039u, 10034u, 10030u, 10026u, 10021u, 10017u, 10012u, 10008u, 10004u, 9999u, 9995u, 9991u, 9986u,
 9982u, 9977u, 9973u, 9969u, 9964u, 9960u, 9956u, 9951u, 9947u, 9942u, 9938u, 9934u, 9929u, 9925u, 9921u, 9916u, 9912u,
 9908u, 9903u, 9899u, 9895u, 9890u, 9886u, 9882u, 9877u, 9873u, 9869u, 9864u, 9860u, 9856u, 9851u, 9847u, 9843u, 9839u,
 9834u, 9830u, 9826u, 9821u, 9817u, 9813u, 9808u, 9804u, 9800u, 9796u, 9791u, 9787u, 9783u, 9778u, 9774u, 9770u, 9766u,
 9761u, 9757u, 9753u, 9749u, 9744u, 9740u, 9736u, 9732u, 9727u, 9723u, 9719u, 9715u, 9710u, 9706u, 9702u, 9698u, 9693u,
 9689u, 9685u, 9681u, 9676u, 9672u, 9668u, 9664u, 9660u, 9655u, 9651u, 9647u, 9643u, 9639u, 9634u, 9630u, 9626u, 9622u,
 9617u, 9613u, 9609u, 9605u, 9601u, 9597u, 9592u, 9588u, 9584u, 9580u, 9576u, 9571u, 9567u, 9563u, 9559u, 9555u, 9551u,
 9546u, 9542u, 9538u, 9534u, 9530u, 9526u, 9522u, 9517u, 9513u, 9509u, 9505u, 9501u, 9497u, 9493u, 9488u, 9484u, 9480u,
 9476u, 9472u, 9468u, 9464u, 9460u, 9455u, 9451u, 9447u, 9443u, 9439u, 9435u, 9431u, 9427u, 9423u, 9418u, 9414u, 9410u,
 9406u, 9402u, 9398u, 9394u, 9390u, 9386u, 9382u, 9378u, 9374u, 9369u, 9365u, 9361u, 9357u, 9353u, 9349u, 9345u, 9341u,
 9337u, 9333u, 9329u, 9325u, 9321u, 9317u, 9313u, 9309u, 9305u, 9300u, 9296u, 9292u, 9288u, 9284u, 9280u, 9276u, 9272u,
 9268u, 9264u, 9260u, 9256u, 9252u, 9248u, 9244u, 9240u, 9236u, 9232u, 9228u, 9224u, 9220u, 9216u, 9212u, 9208u, 9204u,
 9200u, 9196u, 9192u, 9188u, 9184u, 9180u, 9176u, 9172u, 9168u, 9164u, 9160u, 9156u, 9152u, 9148u, 9144u, 9140u, 9137u,
 9133u, 9129u, 9125u, 9121u, 9117u, 9113u, 9109u, 9105u, 9101u, 9097u, 9093u, 9089u, 9085u, 9081u, 9077u, 9073u, 9070u,
 9066u, 9062u, 9058u, 9054u, 9050u, 9046u, 9042u, 9038u, 9034u, 9030u, 9026u, 9023u, 9019u, 9015u, 9011u, 9007u, 9003u,
 8999u, 8995u, 8991u, 8988u, 8984u, 8980u, 8976u, 8972u, 8968u, 8964u, 8960u, 8956u, 8953u, 8949u, 8945u, 8941u, 8937u,
 8933u, 8929u, 8926u, 8922u, 8918u, 8914u, 8910u, 8906u, 8902u, 8899u, 8895u, 8891u, 8887u, 8883u, 8879u, 8876u, 8872u,
 8868u, 8864u, 8860u, 8856u, 8853u, 8849u, 8845u, 8841u, 8837u, 8834u, 8830u, 8826u, 8822u, 8818u, 8815u, 8811u, 8807u,
 8803u, 8799u, 8796u, 8792u, 8788u, 8784u, 8780u, 8777u, 8773u, 8769u, 8765u, 8762u, 8758u, 8754u, 8750u, 8746u, 8743u,
 8739u, 8735u, 8731u, 8728u, 8724u, 8720u, 8716u, 8713u, 8709u, 8705u, 8701u, 8698u, 8694u, 8690u, 8686u, 8683u, 8679u,
 8675u, 8671u, 8668u, 8664u, 8660u, 8657u, 8653u, 8649u, 8645u, 8642u, 8638u, 8634u, 8631u, 8627u, 8623u, 8619u, 8616u,
 8612u, 8608u, 8605u, 8601u, 8597u, 8594u, 8590u, 8586u, 8582u, 8579u, 8575u, 8571u, 8568u, 8564u, 8560u, 8557u, 8553u,
 8549u, 8546u, 8542u, 8538u, 8535u, 8531u, 8527u, 8524u, 8520u, 8516u, 8513u, 8509u, 8505u, 8502u, 8498u, 8495u, 8491u,
 8487u, 8484u, 8480u, 8476u, 8473u, 8469u, 8465u, 8462u, 8458u, 8455u, 8451u, 8447u, 8444u, 8440u, 8436u, 8433u, 8429u,
 8426u, 8422u, 8418u, 8415u, 8411u, 8408u, 8404u, 8400u, 8397u, 8393u, 8390u, 8386u, 8382u, 8379u, 8375u, 8372u, 8368u,
 8364u, 8361u, 8357u, 8354u, 8350u, 8347u, 8343u, 8339u, 8336u, 8332u, 8329u, 8325u, 8322u, 8318u, 8315u, 8311u, 8307u,
 8304u, 8300u, 8297u, 8293u, 8290u, 8286u, 8283u, 8279u, 8275u, 8272u, 8268u, 8265u, 8261u, 8258u, 8254u, 8251u, 8247u,
 8244u, 8240u, 8237u, 8233u, 8230u, 8226u, 8223u, 8219u, 8216u, 8212u, 8209u, 8205u, 8202u, 8198u, 8195u, 8191u, 8188u,
 8184u, 8181u, 8177u, 8174u, 8170u, 8167u, 8163u, 8160u, 8156u, 8153u, 8149u, 8146u, 8142u, 8139u, 8135u, 8132u, 8128u,
 8125u, 8121u, 8118u, 8115u, 8111u, 8108u, 8104u, 8101u, 8097u, 8094u, 8090u, 8087u, 8084u, 8080u, 8077u, 8073u, 8070u,
 8066u, 8063u, 8059u, 8056u, 8053u, 8049u, 8046u, 8042u, 8039u, 8035u, 8032u, 8029u, 8025u, 8022u, 8018u, 8015u, 8012u,
 8008u, 8005u, 8001u, 7998u, 7995u, 7991u, 7988u, 7984u, 7981u, 7978u, 7974u, 7971u, 7967u, 7964u, 7961u, 7957u, 7954u,
 7950u, 7947u, 7944u, 7940u, 7937u, 7934u, 7930u, 7927u, 7923u, 7920u, 7917u, 7913u, 7910u, 7907u, 7903u, 7900u, 7897u,
 7893u, 7890u, 7887u, 7883u, 7880u, 7876u, 7873u, 7870u, 7866u, 7863u, 7860u, 7856u, 7853u, 7850u, 7846u, 7843u, 7840u,
 7836u, 7833u, 7830u, 7826u, 7823u, 7820u, 7817u, 7813u, 7810u, 7807u, 7803u, 7800u, 7797u, 7793u, 7790u, 7787u, 7783u,
 7780u, 7777u, 7774u, 7770u, 7767u, 7764u, 7760u, 7757u, 7754u, 7751u, 7747u, 7744u, 7741u, 7737u, 7734u, 7731u, 7728u,
 7724u, 7721u, 7718u, 7715u, 7711u, 7708u, 7705u, 7701u, 7698u, 7695u, 7692u, 7688u, 7685u, 7682u, 7679u, 7675u, 7672u,
 7669u, 7666u, 7662u, 7659u, 7656u, 7653u, 7650u, 7646u, 7643u, 7640u, 7637u, 7633u, 7630u, 7627u, 7624u, 7620u, 7617u,
 7614u, 7611u, 7608u, 7604u, 7601u, 7598u, 7595u, 7592u, 7588u, 7585u, 7582u, 7579u, 7576u, 7572u, 7569u, 7566u, 7563u,
 7560u, 7556u, 7553u, 7550u, 7547u, 7544u, 7540u, 7537u, 7534u, 7531u, 7528u, 7525u, 7521u, 7518u, 7515u, 7512u, 7509u,
 7506u, 7502u, 7499u, 7496u, 7493u, 7490u, 7487u, 7483u, 7480u, 7477u, 7474u, 7471u, 7468u, 7464u, 7461u, 7458u, 7455u,
 7452u, 7449u, 7446u, 7442u, 7439u, 7436u, 7433u, 7430u, 7427u, 7424u, 7421u, 7417u, 7414u, 7411u, 7408u, 7405u, 7402u,
 7399u, 7396u, 7393u, 7389u, 7386u, 7383u, 7380u, 7377u, 7374u, 7371u, 7368u, 7365u, 7361u, 7358u, 7355u, 7352u, 7349u,
 7346u, 7343u, 7340u, 7337u, 7334u, 7331u, 7328u, 7324u, 7321u, 7318u, 7315u, 7312u, 7309u, 7306u, 7303u, 7300u, 7297u,
 7294u, 7291u, 7288u, 7285u, 7281u, 7278u, 7275u, 7272u, 7269u, 7266u, 7263u, 7260u, 7257u, 7254u, 7251u, 7248u, 7245u,
 7242u, 7239u, 7236u, 7233u, 7230u, 7227u, 7224u, 7221u, 7218u, 7215u, 7212u, 7208u, 7205u, 7202u, 7199u, 7196u, 7193u,
 7190u, 7187u, 7184u, 7181u, 7178u, 7175u, 7172u, 7169u, 7166u, 7163u, 7160u, 7157u, 7154u, 7151u, 7148u, 7145u, 7142u,
 7139u, 7136u, 7133u, 7130u, 7127u, 7124u, 7121u, 7118u, 7115u, 7112u, 7109u, 7107u, 7104u, 7101u, 7098u, 7095u, 7092u,
 7089u, 7086u, 7083u, 7080u, 7077u, 7074u, 7071u, 7068u, 7065u, 7062u, 7059u, 7056u, 7053u, 7050u, 7047u, 7044u, 7041u,
 7038u, 7036u, 7033u, 7030u, 7027u, 7024u, 7021u, 7018u, 7015u, 7012u, 7009u, 7006u, 7003u, 7000u, 6997u, 6994u, 6992u,
 6989u, 6986u, 6983u, 6980u, 6977u, 6974u, 6971u, 6968u, 6965u, 6962u, 6960u, 6957u, 6954u, 6951u, 6948u, 6945u, 6942u,
 6939u, 6936u, 6933u, 6931u, 6928u, 6925u, 6922u, 6919u, 6916u, 6913u, 6910u, 6907u, 6905u, 6902u, 6899u, 6896u, 6893u,
 6890u, 6887u, 6884u, 6882u, 6879u, 6876u, 6873u, 6870u, 6867u, 6864u, 6862u, 6859u, 6856u, 6853u, 6850u, 6847u, 6844u,
 6842u, 6839u, 6836u, 6833u, 6830u, 6827u, 6825u, 6822u, 6819u, 6816u, 6813u, 6810u, 6807u, 6805u, 6802u, 6799u, 6796u,
 6793u, 6791u, 6788u, 6785u, 6782u, 6779u, 6776u, 6774u, 6771u, 6768u, 6765u, 6762u, 6760u, 6757u, 6754u, 6751u, 6748u,
 6745u, 6743u, 6740u, 6737u, 6734u, 6731u, 6729u, 6726u, 6723u, 6720u, 6718u, 6715u, 6712u, 6709u, 6706u, 6704u, 6701u,
 6698u, 6695u, 6692u, 6690u, 6687u, 6684u, 6681u, 6679u, 6676u, 6673u, 6670u, 6668u, 6665u, 6662u, 6659u, 6656u, 6654u,
 6651u, 6648u, 6645u, 6643u, 6640u, 6637u, 6634u, 6632u, 6629u, 6626u, 6623u, 6621u, 6618u, 6615u, 6612u, 6610u, 6607u,
 6604u, 6601u, 6599u, 6596u, 6593u, 6591u, 6588u, 6585u, 6582u, 6580u, 6577u, 6574u, 6571u, 6569u, 6566u, 6563u, 6561u,
 6558u, 6555u, 6552u, 6550u, 6547u, 6544u, 6542u, 6539u, 6536u, 6533u, 6531u, 6528u, 6525u, 6523u, 6520u, 6517u, 6515u,
 6512u, 6509u, 6507u, 6504u, 6501u, 6498u, 6496u, 6493u, 6490u, 6488u, 6485u, 6482u, 6480u, 6477u, 6474u, 6472u, 6469u,
 6466u, 6464u, 6461u, 6458u, 6456u, 6453u, 6450u, 6448u, 6445u, 6442u, 6440u, 6437u, 6434u, 6432u, 6429u, 6426u, 6424u,
 6421u, 6418u, 6416u, 6413u, 6410u, 6408u, 6405u, 6403u, 6400u, 6397u, 6395u, 6392u, 6389u, 6387u, 6384u, 6381u, 6379u,
 6376u, 6374u, 6371u, 6368u, 6366u, 6363u, 6360u, 6358u, 6355u, 6353u, 6350u, 6347u, 6345u, 6342u, 6340u, 6337u, 6334u,
 6332u, 6329u, 6326u, 6324u, 6321u, 6319u, 6316u, 6313u, 6311u, 6308u, 6306u, 6303u, 6300u, 6298u, 6295u, 6293u, 6290u,
 6288u, 6285u, 6282u, 6280u, 6277u, 6275u, 6272u, 6269u, 6267u, 6264u, 6262u, 6259u, 6257u, 6254u, 6251u, 6249u, 6246u,
 6244u, 6241u, 6239u, 6236u, 6233u, 6231u, 6228u, 6226u, 6223u, 6221u, 6218u, 6216u, 6213u, 6210u, 6208u, 6205u, 6203u,
 6200u, 6198u, 6195u, 6193u, 6190u, 6188u, 6185u, 6182u, 6180u, 6177u, 6175u, 6172u, 6170u, 6167u, 6165u, 6162u, 6160u,
 6157u, 6155u, 6152u, 6150u, 6147u, 6144u, 6142u, 6139u, 6137u, 6134u, 6132u, 6129u, 6127u, 6124u, 6122u, 6119u, 6117u,
 6114u, 6112u, 6109u, 6107u, 6104u, 6102u, 6099u, 6097u, 6094u, 6092u, 6089u, 6087u, 6084u, 6082u, 6079u, 6077u, 6074u,
 6072u, 6069u, 6067u, 6064u, 6062u, 6059u, 6057u, 6055u, 6052u, 6050u, 6047u, 6045u, 6042u, 6040u, 6037u, 6035u, 6032u,
 6030u, 6027u, 6025u, 6022u, 6020u, 6017u, 6015u, 6013u, 6010u, 6008u, 6005u, 6003u, 6000u, 5998u, 5995u, 5993u, 5990u,
 5988u, 5986u, 5983u, 5981u, 5978u, 5976u, 5973u, 5971u, 5968u, 5966u, 5964u, 5961u, 5959u, 5956u, 5954u, 5951u, 5949u,
 5947u, 5944u, 5942u, 5939u, 5937u, 5934u, 5932u, 5930u, 5927u, 5925u, 5922u, 5920u, 5918u, 5915u, 5913u, 5910u, 5908u,
 5905u, 5903u, 5901u, 5898u, 5896u, 5893u, 5891u, 5889u, 5886u, 5884u, 5881u, 5879u, 5877u, 5874u, 5872u, 5869u, 5867u,
 5865u, 5862u, 5860u, 5857u, 5855u, 5853u, 5850u, 5848u, 5846u, 5843u, 5841u, 5838u, 5836u, 5834u, 5831u, 5829u, 5827u,
 5824u, 5822u, 5819u, 5817u, 5815u, 5812u, 5810u, 5808u, 5805u, 5803u, 5801u, 5798u, 5796u, 5793u, 5791u, 5789u, 5786u,
 5784u, 5782u, 5779u, 5777u, 5775u, 5772u, 5770u, 5768u, 5765u, 5763u, 5761u, 5758u, 5756u, 5754u, 5751u, 5749u, 5747u,
 5744u, 5742u, 5740u, 5737u, 5735u, 5733u, 5730u, 5728u, 5726u, 5723u, 5721u, 5719u, 5716u, 5714u, 5712u, 5709u, 5707u,
 5705u, 5702u, 5700u, 5698u, 5695u, 5693u, 5691u, 5688u, 5686u, 5684u, 5682u, 5679u, 5677u, 5675u, 5672u, 5670u, 5668u,
 5665u, 5663u, 5661u, 5659u, 5656u, 5654u, 5652u, 5649u, 5647u, 5645u, 5643u, 5640u, 5638u, 5636u, 5633u, 5631u, 5629u,
 5627u, 5624u, 5622u, 5620u, 5617u, 5615u, 5613u, 5611u, 5608u, 5606u, 5604u, 5602u, 5599u, 5597u, 5595u, 5592u, 5590u,
 5588u, 5586u, 5583u, 5581u, 5579u, 5577u, 5574u, 5572u, 5570u, 5568u, 5565u, 5563u, 5561u, 5559u, 5556u, 5554u, 5552u,
 5550u, 5547u, 5545u, 5543u, 5541u, 5538u, 5536u, 5534u, 5532u, 5529u, 5527u, 5525u, 5523u, 5521u, 5518u, 5516u, 5514u,
 5512u, 5509u, 5507u, 5505u, 5503u, 5500u, 5498u, 5496u, 5494u, 5492u, 5489u, 5487u, 5485u, 5483u, 5481u, 5478u, 5476u,
 5474u, 5472u, 5469u, 5467u, 5465u, 5463u, 5461u, 5458u, 5456u, 5454u, 5452u, 5450u, 5447u, 5445u, 5443u, 5441u, 5439u,
 5436u, 5434u, 5432u, 5430u, 5428u, 5426u, 5423u, 5421u, 5419u, 5417u, 5415u, 5412u, 5410u, 5408u, 5406u, 5404u, 5402u,
 5399u, 5397u, 5395u, 5393u, 5391u, 5389u, 5386u, 5384u, 5382u, 5380u, 5378u, 5376u, 5373u, 5371u, 5369u, 5367u, 5365u,
 5363u, 5360u, 5358u, 5356u, 5354u, 5352u, 5350u, 5347u, 5345u, 5343u, 5341u, 5339u, 5337u, 5335u, 5332u, 5330u, 5328u,
 5326u };


    #if (Thermistor_IMPLEMENTATION == Thermistor_EQUATION_METHOD)

        float32 stEqn;
        float32 logrT;

        /* Calculate thermistor resistance from the voltages */
        #if(!CY_PSOC3)
            logrT = (float32)log((float64)resT);
        #else
            logrT = log((float32)resT);
        #endif  /* (!CY_PSOC3) */

        /* Calculate temperature from the resistance of thermistor using Steinhart-Hart Equation */
        #if(!CY_PSOC3)
            stEqn = (float32)(Thermistor_THA + (Thermistor_THB * logrT) + 
                             (Thermistor_THC * pow((float64)logrT, (float32)3)));
        #else
            stEqn = (float32)(Thermistor_THA + (Thermistor_THB * logrT) + 
                             (Thermistor_THC * pow(logrT, (float32)3)));
        #endif  /* (!CY_PSOC3) */

        tempTR = (int16)((float32)((((1.0 / stEqn) - Thermistor_K2C) * (float32)Thermistor_SCALE) + 0.5));

    #else /* Thermistor_IMPLEMENTATION == Thermistor_LUT_METHOD */

        uint16 mid;
        uint16 first = 0u;
        uint16 last = Thermistor_LUT_SIZE - 1u;

        /* Calculate temperature from the resistance of thermistor by using the LUT */
        while (first < last)
        {
            mid = (first + last) >> 1u;

            if ((0u == mid) || ((Thermistor_LUT_SIZE - 1u) == mid) || (resT == Thermistor_LUT[mid]))
            {
                last = mid;
                break;
            }
            else if (Thermistor_LUT[mid] > resT)
            {
                first = mid + 1u;
            }
            else /* (Thermistor_LUT[mid] < resT) */
            {
                last = mid - 1u;
            }
        }

        /* Calculation the closest entry in the LUT */
        if ((Thermistor_LUT[last] > resT) && (last < (Thermistor_LUT_SIZE - 1u)) &&
           ((Thermistor_LUT[last] - resT) > (resT - Thermistor_LUT[last + 1u])))
        {
            last++;
        }
        else if ((Thermistor_LUT[last] < resT) && (last > 0u) &&
                ((Thermistor_LUT[last - 1u] - resT) < (resT - Thermistor_LUT[last])))
        {
            last--;
        }
        else
        {
            /* Closest entry in the LUT already found */
        }

        tempTR = Thermistor_MIN_TEMP + (int16)((uint16)(last * Thermistor_ACCURACY));

    #endif /* (Thermistor_IMPLEMENTATION == Thermistor_EQUATION_METHOD) */

    return (tempTR);
}


/* [] END OF FILE */
